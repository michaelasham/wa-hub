# Server
PORT=3000

# Authentication (required for all endpoints except /health)
API_KEY=

# Webhook
WEBHOOK_SECRET=
WEBHOOK_PROTECTION_BYPASS=
WEBHOOK_AUTH_TOKEN=

# Session / auth storage
SESSION_DATA_PATH=./.wwebjs_auth
AUTH_BASE_DIR=./.wwebjs_auth
INSTANCES_DATA_PATH=./.wwebjs_instances.json

# Chromium (hardened launch args applied by default; see README)
CHROME_PATH=/usr/bin/chromium-browser
CHROME_DISABLE_SANDBOX=0
CHROME_ARGS_EXTRA=
WAHUB_LOG_CHROME_ARGS=0

# Optional: instance identification for Sentry (overrides GCP metadata when set)
WA_HUB_INSTANCE_ID=
WA_HUB_INSTANCE_NAME=

# Sentry (leave SENTRY_DSN empty to disable)
# Example: https://KEY@o4510933991030784.ingest.us.sentry.io/PROJECT_ID
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.05
SENTRY_PROFILES_SAMPLE_RATE=0
SENTRY_RELEASE=

# Optional: require X-Admin-Debug-Secret header for GET /system/status (dashboard uses this for Low Power Mode status)
ADMIN_DEBUG_SECRET=

# Logging
LOG_LEVEL=info

# Low-power mode (during QR/auth/sync)
MAX_OUTBOUND_QUEUE=200
OUTBOUND_QUEUE_TTL_MS=300000
OUTBOUND_DRAIN_DELAY_MS=350
INBOUND_FLUSH_BATCH=50
INBOUND_FLUSH_INTERVAL_MS=500
INBOUND_MAX_BUFFER=2000
SYNC_LITE_BLOCK_IMAGES=0
SYNC_LITE_BLOCK_MEDIA=0
SYNC_LITE_BLOCK_FONTS=0

# NEEDS_QR timeout & recovery (prevent global SYNCING held by stuck QR)
QR_SYNC_GRACE_MS=30000
QR_STALE_MS=90000
QR_TTL_MS=300000
QR_MAX_RECOVERY_ATTEMPTS=3
QR_RECOVERY_WATCHDOG_INTERVAL_MS=10000
QR_RECOVERY_BACKOFF_MS=10000,30000,60000
